<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üé± KPEPE Jackpot - Win 500K KPEPE!</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üê∏</text></svg>">
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      :root {
        --primary: #4ade80;
        --purple: #a855f7;
        --orange: #f97316;
        --gold: #fbbf24;
        --black: #0a0a0a;
        --bg-dark: #0f0f1a;
        --bg-card: #1a1a2e;
        --text: #ffffff;
        --text-muted: #9ca3af;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: var(--bg-dark);
        color: var(--text);
        min-height: 100vh;
      }
      .container { max-width: 420px; margin: 0 auto; padding: 16px; }
      
      /* Header */
      .header { text-align: center; padding: 20px 0; }
      .header h1 {
        font-size: 2rem;
        font-weight: 800;
        background: linear-gradient(135deg, var(--primary), var(--gold), var(--orange));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .header .tagline {
        color: var(--text-muted);
        font-size: 0.9rem;
        margin-top: 4px;
      }
      
      /* Jackpot Card */
      .jackpot-card {
        background: linear-gradient(145deg, rgba(168, 85, 247, 0.15), rgba(74, 222, 128, 0.1));
        border: 2px solid rgba(168, 85, 247, 0.3);
        border-radius: 20px;
        padding: 24px;
        text-align: center;
        margin-bottom: 16px;
        position: relative;
        overflow: hidden;
      }
      .jackpot-amount {
        font-size: 2.5rem;
        font-weight: 900;
        background: linear-gradient(135deg, var(--primary), var(--gold));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .jackpot-usd { color: var(--text-muted); font-size: 0.9rem; }
      
      /* Grand Prize Badge */
      .grand-prize {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: linear-gradient(135deg, var(--purple), var(--orange));
        padding: 10px 20px;
        border-radius: 30px;
        margin: 16px 0;
        font-weight: 700;
        font-size: 0.95rem;
      }
      .grand-prize .icon { font-size: 1.2rem; }
      
      /* Pool Info */
      .pool-info {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 16px;
        padding-top: 16px;
        border-top: 1px solid rgba(255,255,255,0.1);
      }
      .pool-item { text-align: center; }
      .pool-item .value { font-size: 1.1rem; font-weight: 700; }
      .pool-item .value.green { color: var(--primary); }
      .pool-item .value.purple { color: var(--purple); }
      .pool-item .label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; }
      
      /* Eight Ball Section */
      .eightball-section {
        background: var(--bg-card);
        border: 2px solid #fff;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        margin: 0 auto 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 900;
        font-size: 1.5rem;
        background: linear-gradient(135deg, #1a1a1a, #000);
        box-shadow: 0 0 20px rgba(255,255,255,0.2);
      }
      
      /* Number Selection */
      .section-card {
        background: var(--bg-card);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 16px;
      }
      .section-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
        font-weight: 600;
      }
      .section-title .badge {
        background: var(--purple);
        color: #fff;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
      }
      .section-title .badge.complete { background: var(--primary); color: #000; }
      
      .number-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
      }
      .number-btn {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        border: 2px solid rgba(255,255,255,0.2);
        background: transparent;
        color: var(--text);
        font-size: 0.95rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.2s;
      }
      .number-btn:hover { border-color: var(--purple); background: rgba(168, 85, 247, 0.2); }
      .number-btn.selected {
        background: linear-gradient(135deg, var(--purple), #7c3aed);
        border-color: var(--purple);
        color: #fff;
        box-shadow: 0 0 15px rgba(168, 85, 247, 0.5);
      }
      
      /* Eight Ball Button Style */
      .number-btn.eightball {
        background: linear-gradient(135deg, #1a1a1a, #000);
        border: 2px solid #fff;
        color: #fff;
      }
      .number-btn.eightball:hover {
        background: linear-gradient(135deg, #333, #111);
        box-shadow: 0 0 15px rgba(255,255,255,0.3);
      }
      .number-btn.eightball.selected {
        background: linear-gradient(135deg, #1a1a1a, #000);
        border: 3px solid #fff;
        box-shadow: 0 0 20px rgba(255,255,255,0.5);
      }
      
      /* Ticket Preview */
      .ticket-preview {
        background: rgba(74, 222, 128, 0.1);
        border: 2px dashed rgba(74, 222, 128, 0.3);
        border-radius: 16px;
        padding: 20px;
        text-align: center;
        margin-bottom: 16px;
      }
      .ticket-numbers {
        display: flex;
        justify-content: center;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 12px;
      }
      .ticket-num {
        width: 38px;
        height: 38px;
        border-radius: 50%;
        background: var(--purple);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
      }
      .ticket-num.eightball {
        background: linear-gradient(135deg, #1a1a1a, #000);
        border: 2px solid #fff;
      }
      .ticket-empty { color: var(--text-muted); font-size: 0.85rem; }
      
      /* Cost Display */
      .cost-display {
        background: var(--bg-card);
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 12px;
      }
      .cost-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 6px 0;
        font-size: 0.9rem;
      }
      .cost-row.total {
        border-top: 1px solid rgba(255,255,255,0.1);
        margin-top: 8px;
        padding-top: 12px;
        font-weight: 700;
        font-size: 1.1rem;
      }
      .cost-row .pool { color: var(--primary); }
      .cost-row .project { color: var(--purple); }
      
      /* Buy Button */
      .buy-btn {
        width: 100%;
        padding: 16px;
        border: none;
        border-radius: 14px;
        background: linear-gradient(135deg, var(--primary), #22c55e);
        color: #000;
        font-size: 1.1rem;
        font-weight: 800;
        cursor: pointer;
        transition: all 0.2s;
      }
      .buy-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(74, 222, 128, 0.3); }
      .buy-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
      
      /* Quick Pick */
      .quick-pick {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin-bottom: 16px;
      }
      .quick-btn {
        padding: 10px 24px;
        border-radius: 25px;
        border: 1px solid rgba(255,255,255,0.2);
        background: transparent;
        color: var(--text);
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.2s;
      }
      .quick-btn:hover { border-color: var(--gold); color: var(--gold); }
      
      /* Prize Table */
      .prize-table {
        background: var(--bg-card);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 16px;
      }
      .prize-header {
        font-weight: 700;
        font-size: 1rem;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .prize-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        font-size: 0.85rem;
      }
      .prize-row:last-child { border-bottom: none; }
      .prize-match { display: flex; align-items: center; gap: 8px; }
      .prize-balls { display: flex; gap: 4px; }
      .prize-ball {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: var(--purple);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: 700;
      }
      .prize-ball.eightball {
        background: linear-gradient(135deg, #1a1a1a, #000);
        border: 1px solid #fff;
        color: #fff;
      }
      .prize-amount { font-weight: 700; color: var(--primary); }
      
      /* Jackpot Row Highlight */
      .prize-row.jackpot {
        background: linear-gradient(90deg, rgba(74, 222, 128, 0.15), transparent);
        margin: -10px -20px 10px;
        padding: 14px 20px;
        border-radius: 12px;
        border-bottom: none;
      }
      .prize-row.jackpot .prize-match { color: var(--primary); font-weight: 700; }
      .prize-row.jackpot .prize-amount { color: var(--gold); font-size: 1.1rem; }
      
      /* Countdown */
      .countdown {
        text-align: center;
        padding: 16px;
        background: rgba(251, 191, 36, 0.1);
        border-radius: 12px;
        margin-bottom: 16px;
      }
      .countdown-label { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px; }
      .countdown-timer {
        display: flex;
        justify-content: center;
        gap: 8px;
      }
      .countdown-unit {
        background: rgba(251, 191, 36, 0.2);
        padding: 8px 16px;
        border-radius: 8px;
        min-width: 50px;
      }
      .countdown-value { font-size: 1.5rem; font-weight: 800; color: var(--gold); }
      .countdown-unit-label { font-size: 0.65rem; color: var(--text-muted); text-transform: uppercase; }
      
      /* Wallet Section */
      .wallet-section {
        background: var(--bg-card);
        border-radius: 16px;
        padding: 20px;
        text-align: center;
      }
      .wallet-status {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        margin-bottom: 12px;
      }
      .wallet-status.disconnected { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
      .wallet-status.connected { background: rgba(74, 222, 128, 0.15); color: var(--primary); }
      
      /* Footer */
      .footer {
        text-align: center;
        padding: 20px;
        color: var(--text-muted);
        font-size: 0.8rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>üé± KPEPE Jackpot</h1>
        <p class="tagline">Pick 5 numbers + 8 Ball to win!</p>
      </div>
      
      <!-- Jackpot -->
      <div class="jackpot-card">
        <div class="jackpot-amount"><span id="jackpot-klv">0</span> KLV</div>
        <div class="jackpot-usd" id="jackpot-usd">~$0 USD</div>
        
        <div class="grand-prize">
          <span class="icon">üåü</span>
          <span>500,000 KPEPE Grand Prize!</span>
        </div>
        
        <div class="pool-info">
          <div class="pool-item">
            <div class="value green"><span id="pool-klv">0</span> KLV</div>
            <div class="label">Pool (85%)</div>
          </div>
          <div class="pool-item">
            <div class="value purple"><span id="project-klv">0</span> KLV</div>
            <div class="label">Project (15%)</div>
          </div>
        </div>
      </div>
      
      <!-- Countdown -->
      <div class="countdown">
        <div class="countdown-label">Next draw in</div>
        <div class="countdown-timer">
          <div class="countdown-unit">
            <div class="countdown-value" id="timer-h">00</div>
            <div class="countdown-unit-label">Hrs</div>
          </div>
          <div class="countdown-unit">
            <div class="countdown-value" id="timer-m">00</div>
            <div class="countdown-unit-label">Min</div>
          </div>
          <div class="countdown-unit">
            <div class="countdown-value" id="timer-s">00</div>
            <div class="countdown-unit-label">Sec</div>
          </div>
        </div>
      </div>
      
      <!-- Ticket Preview -->
      <div class="ticket-preview">
        <div style="font-size: 0.85rem; color: var(--text-muted);">Your Numbers</div>
        <div class="ticket-numbers" id="ticket-numbers">
          <span class="ticket-empty">Pick numbers or use Quick Pick</span>
        </div>
      </div>
      
      <!-- Quick Pick -->
      <div class="quick-pick">
        <button class="quick-btn" onclick="quickPick()">üé≤ Quick Pick</button>
        <button class="quick-btn" onclick="clearSelection()">üóëÔ∏è Clear</button>
      </div>
      
      <!-- Main Numbers -->
      <div class="section-card">
        <div class="section-title">
          <span>Main Numbers (1-50)</span>
          <span class="badge" id="main-count">0/5</span>
        </div>
        <div class="number-grid" id="main-numbers"></div>
      </div>
      
      <!-- Eight Ball -->
      <div class="section-card">
        <div class="section-title">
          <div style="display: flex; align-items: center; gap: 8px;">
            <div class="eightball-section">8</div>
            <span>Eight Ball (1-20)</span>
          </div>
          <span class="badge" id="8b-count">0/1</span>
        </div>
        <div class="number-grid" id="eightball-numbers"></div>
      </div>
      
      <!-- Cost & Buy -->
      <div class="cost-display">
        <div class="cost-row">
          <span>Pool Contribution (85%)</span>
          <span class="pool"><span id="pool-contrib">850</span> KLV</span>
        </div>
        <div class="cost-row">
          <span>Project Contribution (15%)</span>
          <span class="project"><span id="project-contrib">150</span> KLV</span>
        </div>
        <div class="cost-row total">
          <span>Total</span>
          <span><span id="total-cost">1000</span> KLV</span>
        </div>
      </div>
      
      <button class="buy-btn" id="buy-btn" onclick="buyTickets()">
        üé´ Buy Ticket (1000 KLV)
      </button>
      
      <!-- Prize Table -->
      <div class="prize-table">
        <div class="prize-header">üèÜ Prize Tiers</div>
        
        <div class="prize-row jackpot">
          <div class="prize-match">
            <div class="prize-balls">
              <div class="prize-ball">5</div>
              <div class="prize-ball eightball">8</div>
            </div>
            <span>üé∞ JACKPOT</span>
          </div>
          <span class="prize-amount">40% Pool</span>
        </div>
        
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls"><div class="prize-ball">5</div></div>
            <span>Match 5</span>
          </div>
          <span class="prize-amount">15%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls">
              <div class="prize-ball">4</div>
              <div class="prize-ball eightball">8</div>
            </div>
            <span>Match 4+8B</span>
          </div>
          <span class="prize-amount">10%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls"><div class="prize-ball">4</div></div>
            <span>Match 4</span>
          </div>
          <span class="prize-amount">6%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls">
              <div class="prize-ball">3</div>
              <div class="prize-ball eightball">8</div>
            </div>
            <span>Match 3+8B</span>
          </div>
          <span class="prize-amount">4%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls"><div class="prize-ball">3</div></div>
            <span>Match 3</span>
          </div>
          <span class="prize-amount">2%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls">
              <div class="prize-ball">2</div>
              <div class="prize-ball eightball">8</div>
            </div>
            <span>Match 2+8B</span>
          </div>
          <span class="prize-amount">1%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls">
              <div class="prize-ball">1</div>
              <div class="prize-ball eightball">8</div>
            </div>
            <span>Match 1+8B</span>
          </div>
          <span class="prize-amount">0.5%</span>
        </div>
        <div class="prize-row">
          <div class="prize-match">
            <div class="prize-balls"><div class="prize-ball eightball">8</div></div>
            <span>8 Ball Only</span>
          </div>
          <span class="prize-amount">0.25%</span>
        </div>
      </div>
      
      <!-- Wallet -->
      <div class="wallet-section">
        <div class="wallet-status disconnected" id="wallet-status">
          <span>‚óè</span> Not Connected
        </div>
        <button class="buy-btn" style="padding: 12px 24px; font-size: 0.9rem;" onclick="connectWallet()">
          üîó Connect Wallet
        </button>
      </div>
      
      <!-- Footer -->
      <div class="footer">
        üé± KPEPE Jackpot on KleverChain<br>
        <span style="color: var(--text-muted);">Testnet Mode - No real KLV</span>
      </div>
    </div>

    <script>
      // Configuration
      const TICKET_PRICE = 1000;
      const MAIN_NUMBERS = 50;
      const EIGHTBALL_NUMBERS = 20;
      const MAIN_PICK = 5;
      
      let selectedMainNumbers = [];
      let selectedEightball = null;
      let klvPriceUSD = 0.00154;
      let walletAddress = null;
      
      // Initialize
      document.addEventListener('DOMContentLoaded', () => {
        initNumberPickers();
        loadStats();
        startCountdown();
      });
      
      // Create number pickers
      function initNumberPickers() {
        const mainGrid = document.getElementById('main-numbers');
        const ebGrid = document.getElementById('eightball-numbers');
        
        for (let i = 1; i <= MAIN_NUMBERS; i++) {
          const btn = document.createElement('button');
          btn.className = 'number-btn';
          btn.textContent = i;
          btn.onclick = () => toggleMainNumber(i, btn);
          mainGrid.appendChild(btn);
        }
        
        for (let i = 1; i <= EIGHTBALL_NUMBERS; i++) {
          const btn = document.createElement('button');
          btn.className = 'number-btn eightball';
          btn.textContent = '8';
          btn.onclick = () => toggleEightball(i, btn);
          ebGrid.appendChild(btn);
        }
      }
      
      // Toggle main number
      function toggleMainNumber(num, btn) {
        const index = selectedMainNumbers.indexOf(num);
        if (index > -1) {
          selectedMainNumbers.splice(index, 1);
          btn.classList.remove('selected');
        } else if (selectedMainNumbers.length < MAIN_PICK) {
          selectedMainNumbers.push(num);
          selectedMainNumbers.sort((a, b) => a - b);
          btn.classList.add('selected');
        }
        updateUI();
      }
      
      // Toggle eight ball
      function toggleEightball(num, btn) {
        if (selectedEightball === num) {
          selectedEightball = null;
          btn.classList.remove('selected');
        } else {
          selectedEightball = num;
          document.querySelectorAll('.number-btn.eightball').forEach(b => b.classList.remove('selected'));
          btn.classList.add('selected');
        }
        updateUI();
      }
      
      // Quick pick
      function quickPick() {
        selectedMainNumbers = [];
        selectedEightball = null;
        document.querySelectorAll('.number-btn').forEach(b => b.classList.remove('selected'));
        
        while (selectedMainNumbers.length < MAIN_PICK) {
          const num = Math.floor(Math.random() * MAIN_NUMBERS) + 1;
          if (!selectedMainNumbers.includes(num)) {
            selectedMainNumbers.push(num);
          }
        }
        selectedMainNumbers.sort((a, b) => a - b);
        selectedEightball = Math.floor(Math.random() * EIGHTBALL_NUMBERS) + 1;
        
        document.querySelectorAll('.number-btn').forEach(btn => {
          const num = parseInt(btn.textContent);
          if (selectedMainNumbers.includes(num)) btn.classList.add('selected');
          if (btn.classList.contains('eightball')) {
            const idx = Array.from(btn.parentNode.children).indexOf(btn) + 1;
            if (idx === selectedEightball) btn.classList.add('selected');
          }
        });
        
        updateUI();
      }
      
      // Clear selection
      function clearSelection() {
        selectedMainNumbers = [];
        selectedEightball = null;
        document.querySelectorAll('.number-btn').forEach(b => b.classList.remove('selected'));
        updateUI();
      }
      
      // Update UI
      function updateUI() {
        // Update badges
        document.getElementById('main-count').textContent = `${selectedMainNumbers.length}/${MAIN_PICK}`;
        document.getElementById('8b-count').textContent = `${selectedEightball ? 1 : 0}/1`;
        document.getElementById('main-count').classList.toggle('complete', selectedMainNumbers.length === MAIN_PICK);
        document.getElementById('8b-count').classList.toggle('complete', !!selectedEightball);
        
        // Update ticket preview
        const ticketNumbers = document.getElementById('ticket-numbers');
        if (selectedMainNumbers.length === 0 && !selectedEightball) {
          ticketNumbers.innerHTML = '<span class="ticket-empty">Pick numbers or use Quick Pick</span>';
        } else {
          let html = '';
          selectedMainNumbers.forEach(num => {
            html += `<div class="ticket-num">${num}</div>`;
          });
          if (selectedEightball) {
            html += `<div class="ticket-num eightball">8</div>`;
          }
          ticketNumbers.innerHTML = html;
        }
        
        // Update buy button
        const canBuy = selectedMainNumbers.length === MAIN_PICK && selectedEightball;
        const buyBtn = document.getElementById('buy-btn');
        buyBtn.disabled = !canBuy;
        buyBtn.style.opacity = canBuy ? '1' : '0.5';
      }
      
      // Load stats
      function loadStats() {
        const tickets = 247;
        const poolAmount = Math.floor(tickets * TICKET_PRICE * 0.85);
        const projectAmount = Math.floor(tickets * TICKET_PRICE * 0.15);
        
        document.getElementById('jackpot-klv').textContent = poolAmount.toLocaleString();
        document.getElementById('jackpot-usd').textContent = '$' + (poolAmount * klvPriceUSD).toFixed(2) + ' USD';
        document.getElementById('pool-klv').textContent = poolAmount.toLocaleString();
        document.getElementById('project-klv').textContent = projectAmount.toLocaleString();
      }
      
      // Start countdown
      function startCountdown() {
        const target = new Date().getTime() + (24 * 60 * 60 * 1000);
        
        function update() {
          const now = new Date().getTime();
          const diff = target - now;
          if (diff <= 0) return;
          
          const h = Math.floor(diff / (1000 * 60 * 60));
          const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const s = Math.floor((diff % (1000 * 60)) / 1000);
          
          document.getElementById('timer-h').textContent = String(h).padStart(2, '0');
          document.getElementById('timer-m').textContent = String(m).padStart(2, '0');
          document.getElementById('timer-s').textContent = String(s).padStart(2, '0');
        }
        
        update();
        setInterval(update, 1000);
      }
      
      // Connect wallet (placeholder)
      function connectWallet() {
        alert('Wallet connection will be implemented with Klever Web3');
      }
      
      // Buy tickets (placeholder)
      function buyTickets() {
        if (selectedMainNumbers.length !== MAIN_PICK || !selectedEightball) {
          alert('Please select 5 main numbers and 1 Eight Ball!');
          return;
        }
        
        alert(`üé´ Buying ticket for 1000 KLV

Your Numbers:
Main: ${selectedMainNumbers.join(', ')}
Eight Ball: ${selectedEightball}

Pool: 850 KLV ‚Üí Prize Pool
Project: 150 KLV ‚Üí klv19a7hrp2wgx0m9tl5kvtu5qpd9p40zm2ym2mh4evxflz64lk8w38qs7hdl9

Good luck! üçÄ`);
        
        clearSelection();
      }
    </script>
  </body>
</html>
